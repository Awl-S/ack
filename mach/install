case $# in
1)	DEST="$1" ;;
2)	DEST="$2" ;;
*)	echo $0 [source] destination ;;
esac
MACH=`(cd .. ; basename \`pwd\`)`
mkdir ../../../lib/$MACH >/dev/null 2>&1
if cp "$1" ../../../lib/${MACH}/$DEST >/dev/null 2>&1 ||
	 { rm -f ../../../lib/${MACH}/$DEST >/dev/null 2>&1 &&
           cp "$1" ../../../lib/${MACH}/$DEST >/dev/null 2>&1
	 }
then
	if (ar t ../../../lib/${MACH}/$DEST | grep __.SYMDEF ) >/dev/null 2>&1
	then
		ranlib ../../../lib/${MACH}/$DEST
	fi
	exit 0
else
	echo Sorry, can not create "lib/${MACH}/$DEST".
	exit 1
fi
