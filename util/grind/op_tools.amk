MAKE_OPS = make.ops;

%instance deftypesuffix(op_tab, '%.ot');

%tool gen_ops (
    ops:	%in  [type = op_tab];
    cfile:	%out [type = C-src]	=> ops.c;
    hfile:	%out [type = C-incl]	=> ops.h;
    mkops:	%in  [type = command]	=> $MAKE_OPS;
)
{
    exec($mkops, args => $ops);
    echo({$cfile, 'and', $hfile, 'created'});
};
