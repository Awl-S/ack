trap "" 1 2

while read x
do
	case $x in
	0)	exit 0;;
	bad)	exit 1;;
	esac
done
exit 1
